<%= form_for @first_appointment, url: participant_first_appointment_path(@participant), method: @first_appointment.valid? ? :patch : :post, html: {role: "form", class: "form-horizontal"} do |f| %>
  <div class="form-group">
    <%= f.label :appointment_at, class: "col-md-4 control-label" %>
    <div class="col-md-7">
      <%= f.datetime_select :appointment_at, { required: true }, { class: "date-select" } %>
      <br>
      <small><%= Time.zone %></small>
    </div>
  </div>


  <div class="form-group">
    <%= f.label :appointment_location, class: "col-md-4 control-label" %>
    <div class="col-md-7">
      <%= f.select :appointment_location, options_for_select(t("activerecord.field_options.first_contact.locations")),
                   {},
                   { class: "dropdown", required: true } %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :session_length, class: "col-md-4 control-label" %>
    <div class="col-md-7">
      <%= f.number_field :session_length, min: 1, class: "form-control", required: true %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :next_contact, class: "col-md-4 control-label" %>
    <div class="col-md-7">
      <%= f.datetime_select :next_contact, {default: @participant.first_appointment ? first_appointment.next_contact : DateTime.current + 1.weeks, required: true},{class: "date-select"}  %>
      <br>
      <small><%= Time.zone %></small>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :notes, class: "col-md-4 control-label" %>
    <div class="col-md-7">
      <%= f.text_area :notes, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <div class="col-md-offset-4 col-md-7">
      <%= f.submit t("conemo.views.shared.save_button"), class: "btn btn-primary" %>
      <%= link_to t("conemo.views.shared.cancel_button"), participant_tasks_path(@participant), class: "btn btn-default" %>
    </div>
  </div>
<% end %>
